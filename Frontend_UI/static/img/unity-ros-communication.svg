<svg width="900" height="700" xmlns="http://www.w3.org/2000/svg">
  <!-- Unity-ROS Communication Diagram -->
  <rect width="100%" height="100%" fill="#ffffff"/>
  <text x="450" y="40" text-anchor="middle" font-family="Arial" font-size="20" fill="#000000">
    Unity-ROS Communication and Coordinate System Mapping
  </text>

  <!-- Unity Environment Box -->
  <rect x="50" y="80" width="350" height="550" fill="#f0f9ff" stroke="#1890ff" stroke-width="3" rx="15" ry="15"/>
  <text x="225" y="110" text-anchor="middle" font-family="Arial" font-size="14" fill="#000000" font-weight="bold">
    Unity Environment
  </text>

  <!-- Unity Robot Model -->
  <rect x="70" y="140" width="120" height="100" fill="#e6f7ff" stroke="#1890ff" stroke-width="2" rx="8" ry="8"/>
  <text x="130" y="170" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    Robot Model
  </text>
  <text x="130" y="190" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    (URDF imported)
  </text>
  <text x="130" y="210" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Left-handed coordinate system
  </text>

  <!-- Unity Scene -->
  <rect x="210" y="140" width="170" height="180" fill="#fff2e8" stroke="#fa8c16" stroke-width="2" rx="8" ry="8"/>
  <text x="295" y="170" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    Scene Environment
  </text>
  <text x="295" y="190" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Lighting, objects, humans
  </text>
  <rect x="230" y="200" width="30" height="30" fill="#fa8c16" stroke="#d9650f" stroke-width="1"/>
  <text x="245" y="225" text-anchor="middle" font-family="Arial" font-size="9" fill="#333333">
    Object
  </text>
  <circle cx="320" cy="220" r="15" fill="#722ed1" stroke="#522d80" stroke-width="1"/>
  <text x="320" y="240" text-anchor="middle" font-family="Arial" font-size="9" fill="#333333">
    Human
  </text>

  <!-- Unity ROS Connector -->
  <rect x="70" y="260" width="290" height="80" fill="#d9f7be" stroke="#52c41a" stroke-width="2" rx="10" ry="10"/>
  <text x="215" y="285" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    Unity ROS TCP Connector
  </text>
  <text x="215" y="305" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Handles communication protocols, message serialization
  </text>

  <!-- Unity Sensor Simulation -->
  <rect x="70" y="360" width="130" height="80" fill="#fffbf0" stroke="#fa8c16" stroke-width="2" rx="8" ry="8"/>
  <text x="135" y="385" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    Sensor Simulation
  </text>
  <text x="135" y="405" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    LiDAR, Cameras,
  </text>
  <text x="135" y="420" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    IMU, etc.
  </text>

  <!-- Unity Physics Engine -->
  <rect x="220" y="360" width="130" height="80" fill="#f9f0ff" stroke="#722ed1" stroke-width="2" rx="8" ry="8"/>
  <text x="285" y="385" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    Physics Engine
  </text>
  <text x="285" y="405" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Collision detection,
  </text>
  <text x="285" y="420" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    dynamics simulation
  </text>

  <!-- ROS Environment Box -->
  <rect x="450" y="80" width="400" height="550" fill="#f9f0ff" stroke="#722ed1" stroke-width="3" rx="15" ry="15"/>
  <text x="650" y="110" text-anchor="middle" font-family="Arial" font-size="14" fill="#000000" font-weight="bold">
    ROS Environment
  </text>

  <!-- ROS Master -->
  <rect x="470" y="140" width="150" height="60" fill="#f9f0ff" stroke="#722ed1" stroke-width="2" rx="8" ry="8"/>
  <text x="545" y="170" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    ROS Master
  </text>

  <!-- ROS Nodes -->
  <rect x="640" y="140" width="180" height="100" fill="#f9f0ff" stroke="#722ed1" stroke-width="2" rx="8" ry="8"/>
  <text x="730" y="165" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    ROS Nodes
  </text>
  <text x="730" y="185" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Navigation, Control,
  </text>
  <text x="730" y="200" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Perception, etc.
  </text>

  <!-- ROS TF Tree -->
  <rect x="470" y="220" width="350" height="100" fill="#ffecb8" stroke="#fa8c16" stroke-width="2" rx="8" ry="8"/>
  <text x="645" y="245" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    TF Tree (Transform Frames)
  </text>
  <text x="645" y="265" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Coordinate system management
  </text>
  <text x="645" y="280" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Unity (left-handed) ↔ ROS (right-handed)
  </text>

  <!-- ROS Message Types -->
  <rect x="470" y="340" width="350" height="120" fill="#f6ffed" stroke="#52c41a" stroke-width="2" rx="8" ry="8"/>
  <text x="645" y="365" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    ROS Message Types
  </text>
  <text x="645" y="385" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Sensor_msgs: LaserScan, Image, PointCloud2
  </text>
  <text x="645" y="400" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Geometry_msgs: Twist, Pose, Transform
  </text>
  <text x="645" y="415" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Nav_msgs: Odometry, Path
  </text>
  <text x="645" y="430" text-anchor="middle" font-family="Arial" font-size="10" fill="#333333">
    Custom message types
  </text>

  <!-- Communication Arrow -->
  <line x1="400" y1="300" x2="450" y2="300" stroke="#1890ff" stroke-width="3" marker-end="url(#arrow)"/>
  <line x1="450" y1="320" x2="400" y2="320" stroke="#722ed1" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="425" y="295" text-anchor="middle" font-family="Arial" font-size="10" fill="#1890ff">
    Unity → ROS
  </text>
  <text x="425" y="335" text-anchor="middle" font-family="Arial" font-size="10" fill="#722ed1">
    ROS → Unity
  </text>

  <!-- Coordinate System Mapping -->
  <rect x="50" y="460" width="350" height="150" fill="#f0f5ff" stroke="#1890ff" stroke-width="2" rx="10" ry="10"/>
  <text x="225" y="485" text-anchor="middle" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">
    Coordinate System Mapping
  </text>

  <!-- Unity Coordinate System -->
  <text x="120" y="510" text-anchor="middle" font-family="Arial" font-size="10" fill="#000000" font-weight="bold">
    Unity (Left-handed):
  </text>
  <text x="120" y="525" text-anchor="middle" font-family="Arial" font-size="9" fill="#333333">
    X: Right
  </text>
  <text x="120" y="540" text-anchor="middle" font-family="Arial" font-size="9" fill="#333333">
    Y: Up
  </text>
  <text x="120" y="555" text-anchor="middle" font-family="Arial" font-size="9" fill="#333333">
    Z: Forward
  </text>

  <!-- ROS Coordinate System -->
  <text x="330" y="510" text-anchor="middle" font-family="Arial" font-size="10" fill="#000000" font-weight="bold">
    ROS (Right-handed):
  </text>
  <text x="330" y="525" text-anchor="middle" font-family="Arial" font-size="9" fill="#333333">
    X: Forward
  </text>
  <text x="330" y="540" text-anchor="middle" font-family="Arial" font-size="9" fill="#333333">
    Y: Left
  </text>
  <text x="330" y="555" text-anchor="middle" font-family="Arial" font-size="9" fill="#333333">
    Z: Up
  </text>

  <!-- Mapping Transformation -->
  <text x="225" y="580" text-anchor="middle" font-family="Arial" font-size="10" fill="#000000" font-weight="bold">
    Transformation: Unity Z→X, Unity X→-Y, Unity Y→Z
  </text>

  <!-- Legend -->
  <rect x="50" y="630" width="700" height="50" fill="#fafafa" stroke="#d9d9d9" stroke-width="1" rx="5" ry="5"/>
  <text x="60" y="650" text-anchor="start" font-family="Arial" font-size="10" fill="#000000">
    Key Components: Unity Environment (blue), ROS Environment (purple), Communication (arrows), Coordinate Mapping (teal)
  </text>

  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#666666" />
    </marker>
  </defs>
</svg>